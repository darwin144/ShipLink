@using Client_Shiplink.DummyData
@using Client_Shiplink.Models.OrderDetails
@{
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
    var dummyData = DummyDataOrder.GetDummyData();
}

<head>
     <link href="~/css/dashboardIndex.css" rel="stylesheet" />
</head>
@{
    int AllData = dummyData.Count;
    int income = dummyData.Count(od => od.Information == "My Mailbox" || od.Information == "Shipping Mailbox");
    int outgoing = dummyData.Count(od => od.Information == "My Shipment");
}
<div class="d-flex gap-2 h-100">
    <div class="d-flex flex-column p-4 gap-4 border rounded w-100 h-auto ">
        <div class="d-flex justify-content-between align-items-center">
            <div class="d-flex text-start" style="gap:20px;">
                <div class="position-relative overflow-hidden">
                    <h2><a href="~/Dashboard/" style="text-decoration:none; color: black;">All</a> <span class="px-2 py-1 btn-red-clr rounded h-fit" style="font-size: 16px;">@AllData</span></h2>
                    <div id="all-line" class="w-50 bg-line-red-clr rounded" style="height: 6px;"></div>
                </div>
                <div class="position-relative overflow-hidden">
                    <h2><a href="~/Dashboard/IncomeShipment" style="text-decoration:none; color: black;">Income Shipments</a><span class="px-2 py-1 btn-red-clr rounded h-fit" style="font-size: 16px;">@income</span></h2>
                    <div id="income-line" class="w-50 bg-line-red-clr rounded" style="height:6px"></div>
                </div>
               <div class="position-relative overflow-hidden">
                    <h2><a href="~/Dashboard/OutgoingShipment" style="text-decoration:none; color: black;">Outgoing Shipments</a><span class="px-2 py-1 btn-red-clr rounded h-fit" style="font-size: 16px;">@outgoing</span></h2>
                    <div id="outgoing-line" class="w-50 bg-line-red-clr rounded" style="height:6px"></div>
                </div>
            </div>
            <div class="w-25 d-flex gap-2 ">
                <partial name="../Components/SearchIconComponents" />
                <partial name="../Components/SortComponents" />
            </div>
        </div>
        <div class="d-flex gap-3 flex-column mt-4">
            @if (!dummyData.Any())
            {
                                                                    <div class="w-100 h-100 d-flex gap-4 flex-column align-items-center justify-content-center">
                                                                        <h1 class="text-red-clr fw-bold" style="font-size: 60px;">ShipLink</h1>
                                                                        <div class="text-center">
                                                                            <h2 class="fw-semibold">You Dont Have Any Data Display Here</h2>
                                                                            <h2 class="fw-normal">Start Shipping Today</h2>
                                                                        </div>
                                                                        <button class="btn-red-clr px-2 py-1 rounded">Send Package</button>
                                                                    </div>
            }
            else
            {
                @RenderSection("Content", required: false)
            }
        </div>
    </div>
    <partial name="../Components/DashboardStatus" />
</div>
<script>
    // Mendapatkan URL saat ini
    var currentUrl = window.location.pathname;

    // Mendapatkan elemen garis berdasarkan ID
    var allLine = document.getElementById('all-line');
    var incomeLine = document.getElementById('income-line');
    var outgoingLine = document.getElementById('outgoing-line');

    // Fungsi untuk mengubah translasi elemen garis berdasarkan URL
    function updateLineTranslations() {
        if (currentUrl === '/Dashboard/') {
            allLine.style.transform = 'translateX(0)';
            incomeLine.style.transform = 'translateX(-100%)';
            outgoingLine.style.transform = 'translateX(-100%)';
        } else if (currentUrl === '/Dashboard/IncomeShipment') {
            allLine.style.transform = 'translateX(-100%)';
            incomeLine.style.transform = 'translateX(0)';
            outgoingLine.style.transform = 'translateX(-100%)';
        } else if (currentUrl === '/Dashboard/OutgoingShipment') {
            allLine.style.transform = 'translateX(-100%)';
            incomeLine.style.transform = 'translateX(-100%)';
            outgoingLine.style.transform = 'translateX(0)';
        } else {
            allLine.style.transform = 'translateX(-100%)';
            incomeLine.style.transform = 'translateX(-100%)';
            outgoingLine.style.transform = 'translateX(-100%)';
        }
    }

    // Panggil fungsi untuk mengatur translasi elemen garis saat pertama kali halaman dimuat
    updateLineTranslations();
</script>
